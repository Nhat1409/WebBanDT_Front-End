{"ast":null,"code":"var _jsxFileName = \"D:\\\\DoAn\\\\WebBanDT_FE\\\\src\\\\pages\\\\AdminPage\\\\AdminPage.jsx\",\n  _s = $RefreshSig$();\nimport { Menu } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { getItem } from '../../utils';\nimport { UserOutlined, AppstoreOutlined, ShoppingCartOutlined } from '@ant-design/icons';\nimport HeaderComponent from '../../components/HeaderCompoent/HeaderComponent';\nimport AdminUser from '../../components/AdminUser/AdminUser';\nimport AdminProduct from '../../components/AdminProduct/AdminProduct';\nimport OrderAdmin from '../../components/OrderAdmin/OrderAmin';\nimport * as OrderService from '../../services/OrderService';\nimport * as ProductService from '../../services/ProductService';\nimport * as UserService from '../../services/UserService';\nimport CustomizedContent from './components/CustomizedContent';\nimport { useSelector } from 'react-redux';\nimport { useQueries } from '@tanstack/react-query';\nimport { useMemo } from 'react';\nimport Loading from '../../components/LoadingComponent/Loading';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AdminPage = () => {\n  _s();\n  const user = useSelector(state => state === null || state === void 0 ? void 0 : state.user);\n  const items = [getItem('Người dùng', 'users', /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 36\n  }, this)), getItem('Sản phẩm', 'products', /*#__PURE__*/_jsxDEV(AppstoreOutlined, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 37\n  }, this)), getItem('Đơn hàng', 'orders', /*#__PURE__*/_jsxDEV(ShoppingCartOutlined, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 35\n  }, this))];\n  const [keySelected, setKeySelected] = useState('');\n  const getAllOrder = async () => {\n    const res = await OrderService.getAllOrder(user === null || user === void 0 ? void 0 : user.access_token);\n    return {\n      data: res === null || res === void 0 ? void 0 : res.data,\n      key: 'orders'\n    };\n  };\n  const getAllProducts = async () => {\n    const res = await ProductService.getAllProduct();\n    console.log('res1', res);\n    return {\n      data: res === null || res === void 0 ? void 0 : res.data,\n      key: 'products'\n    };\n  };\n  const getAllUsers = async () => {\n    const res = await UserService.getAllUser(user === null || user === void 0 ? void 0 : user.access_token);\n    console.log('res', res);\n    return {\n      data: res === null || res === void 0 ? void 0 : res.data,\n      key: 'users'\n    };\n  };\n  const queries = useQueries({\n    queries: [{\n      queryKey: ['products'],\n      queryFn: getAllProducts,\n      staleTime: 1000 * 60\n    }, {\n      queryKey: ['users'],\n      queryFn: getAllUsers,\n      staleTime: 1000 * 60\n    }, {\n      queryKey: ['orders'],\n      queryFn: getAllOrder,\n      staleTime: 1000 * 60\n    }]\n  });\n  const memoCount = useMemo(() => {\n    const result = {};\n    try {\n      if (queries) {\n        queries.forEach(query => {\n          var _query$data, _query$data2, _query$data2$data;\n          result[query === null || query === void 0 ? void 0 : (_query$data = query.data) === null || _query$data === void 0 ? void 0 : _query$data.key] = query === null || query === void 0 ? void 0 : (_query$data2 = query.data) === null || _query$data2 === void 0 ? void 0 : (_query$data2$data = _query$data2.data) === null || _query$data2$data === void 0 ? void 0 : _query$data2$data.length;\n        });\n      }\n      return result;\n    } catch (error) {\n      return result;\n    }\n  }, [queries]);\n  const COLORS = {\n    users: ['#e66465', '#9198e5'],\n    products: ['#a8c0ff', '#3f2b96'],\n    orders: ['#11998e', '#38ef7d']\n  };\n  const renderPage = key => {\n    switch (key) {\n      case 'users':\n        return /*#__PURE__*/_jsxDEV(AdminUser, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this);\n      case 'products':\n        return /*#__PURE__*/_jsxDEV(AdminProduct, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this);\n      case 'orders':\n        return /*#__PURE__*/_jsxDEV(OrderAdmin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n    }\n  };\n  const handleOnCLick = ({\n    key\n  }) => {\n    setKeySelected(key);\n  };\n  console.log('memoCount', memoCount);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(HeaderComponent, {\n      isHiddenSearch: true,\n      isHiddenCart: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        overflowX: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Menu, {\n        mode: \"inline\",\n        style: {\n          width: 256,\n          boxShadow: '1px 1px 2px #ccc',\n          height: '100vh'\n        },\n        items: items,\n        onClick: handleOnCLick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          padding: '15px 0 15px 15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Loading, {\n          isLoading: memoCount && Object.keys(memoCount) && Object.keys(memoCount).length !== 3,\n          children: !keySelected && /*#__PURE__*/_jsxDEV(CustomizedContent, {\n            data: memoCount,\n            colors: COLORS,\n            setKeySelected: setKeySelected\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), renderPage(keySelected)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(AdminPage, \"u++K7SUol3gC2tZY1hCJYmpELoU=\", false, function () {\n  return [useSelector, useQueries];\n});\n_c = AdminPage;\nexport default AdminPage;\nvar _c;\n$RefreshReg$(_c, \"AdminPage\");","map":{"version":3,"names":["Menu","React","useEffect","useState","getItem","UserOutlined","AppstoreOutlined","ShoppingCartOutlined","HeaderComponent","AdminUser","AdminProduct","OrderAdmin","OrderService","ProductService","UserService","CustomizedContent","useSelector","useQueries","useMemo","Loading","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminPage","_s","user","state","items","fileName","_jsxFileName","lineNumber","columnNumber","keySelected","setKeySelected","getAllOrder","res","access_token","data","key","getAllProducts","getAllProduct","console","log","getAllUsers","getAllUser","queries","queryKey","queryFn","staleTime","memoCount","result","forEach","query","_query$data","_query$data2","_query$data2$data","length","error","COLORS","users","products","orders","renderPage","handleOnCLick","children","isHiddenSearch","isHiddenCart","style","display","overflowX","mode","width","boxShadow","height","onClick","flex","padding","isLoading","Object","keys","colors","_c","$RefreshReg$"],"sources":["D:/DoAn/WebBanDT_FE/src/pages/AdminPage/AdminPage.jsx"],"sourcesContent":["import { Menu } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { getItem } from '../../utils';\r\nimport { UserOutlined, AppstoreOutlined, ShoppingCartOutlined } from '@ant-design/icons'\r\nimport HeaderComponent from '../../components/HeaderCompoent/HeaderComponent';\r\nimport AdminUser from '../../components/AdminUser/AdminUser';\r\nimport AdminProduct from '../../components/AdminProduct/AdminProduct';\r\nimport OrderAdmin from '../../components/OrderAdmin/OrderAmin';\r\nimport * as OrderService from '../../services/OrderService'\r\nimport * as ProductService from '../../services/ProductService'\r\nimport * as UserService from '../../services/UserService'\r\n\r\nimport CustomizedContent from './components/CustomizedContent';\r\nimport { useSelector } from 'react-redux';\r\nimport { useQueries } from '@tanstack/react-query';\r\nimport { useMemo } from 'react';\r\nimport Loading from '../../components/LoadingComponent/Loading';\r\n\r\nconst AdminPage = () => {\r\n  const user = useSelector((state) => state?.user)\r\n\r\n  const items = [\r\n    getItem('Người dùng', 'users', <UserOutlined />),\r\n    getItem('Sản phẩm', 'products', <AppstoreOutlined />),\r\n    getItem('Đơn hàng', 'orders', <ShoppingCartOutlined />),\r\n    \r\n  ];\r\n\r\n  const [keySelected, setKeySelected] = useState('');\r\n  const getAllOrder = async () => {\r\n    const res = await OrderService.getAllOrder(user?.access_token)\r\n    return {data: res?.data, key: 'orders'}\r\n  }\r\n\r\n  const getAllProducts = async () => {\r\n    const res = await ProductService.getAllProduct()\r\n    console.log('res1', res)\r\n    return {data: res?.data, key: 'products'}\r\n  }\r\n\r\n  const getAllUsers = async () => {\r\n    const res = await UserService.getAllUser(user?.access_token)\r\n    console.log('res', res)\r\n    return {data: res?.data, key: 'users'}\r\n  }\r\n\r\n  const queries = useQueries({\r\n    queries: [\r\n      {queryKey: ['products'], queryFn: getAllProducts, staleTime: 1000 * 60},\r\n      {queryKey: ['users'], queryFn: getAllUsers, staleTime: 1000 * 60},\r\n      {queryKey: ['orders'], queryFn: getAllOrder, staleTime: 1000 * 60},\r\n    ]\r\n  })\r\n  const memoCount = useMemo(() => {\r\n    const result = {}\r\n    try {\r\n      if(queries) {\r\n        queries.forEach((query) => {\r\n          result[query?.data?.key] = query?.data?.data?.length\r\n        })\r\n      }\r\n    return result\r\n    } catch (error) {\r\n      return result\r\n    }\r\n  },[queries])\r\n  const COLORS = {\r\n   users: ['#e66465', '#9198e5'],\r\n   products: ['#a8c0ff', '#3f2b96'],\r\n   orders: ['#11998e', '#38ef7d'],\r\n  };\r\n\r\n  const renderPage = (key) => {\r\n    switch (key) {\r\n      case 'users':\r\n        return (\r\n          <AdminUser />\r\n        )\r\n      case 'products':\r\n        return (\r\n          <AdminProduct />\r\n        )\r\n      case 'orders':\r\n        return (\r\n          <OrderAdmin />\r\n        )\r\n      default:\r\n        return <></>\r\n    }\r\n  }\r\n\r\n  const handleOnCLick = ({ key }) => {\r\n    setKeySelected(key)\r\n  }\r\n  console.log('memoCount', memoCount)\r\n  return (\r\n    <>\r\n      <HeaderComponent isHiddenSearch isHiddenCart />\r\n      <div style={{ display: 'flex',overflowX: 'hidden' }}>\r\n        <Menu\r\n          mode=\"inline\"\r\n          style={{\r\n            width: 256,\r\n            boxShadow: '1px 1px 2px #ccc',\r\n            height: '100vh'\r\n          }}\r\n          items={items}\r\n          onClick={handleOnCLick}\r\n        />\r\n        <div style={{ flex: 1, padding: '15px 0 15px 15px' }}>\r\n          <Loading isLoading={memoCount && Object.keys(memoCount) &&  Object.keys(memoCount).length !== 3}>\r\n            {!keySelected && (\r\n              <CustomizedContent data={memoCount} colors={COLORS} setKeySelected={setKeySelected} />\r\n            )}\r\n          </Loading>\r\n          {renderPage(keySelected)}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AdminPage"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}